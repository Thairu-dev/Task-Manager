{"ast":null,"code":"import React,{useState,useEffect}from'react';import Navbar from'./Navbar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserList(){const[users,setUsers]=useState([]);const[name,setName]=useState('');const[email,setEmail]=useState('');useEffect(()=>{function fetchUsers(){fetch('https://task-app-server-07x5.onrender.com/users').then(response=>{if(!response.ok){throw new Error('Failed to fetch users');}return response.json();}).then(data=>{setUsers(data);}).catch(error=>{console.error('Error fetching users:',error);});}fetchUsers();},[]);function handleAddUser(event){event.preventDefault();const newUser={name,email};fetch('https://task-app-server-07x5.onrender.com/users',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newUser)}).then(response=>{if(!response.ok){throw new Error('Failed to add user');}return response.json();}).then(addedUser=>{setUsers([...users,addedUser]);setName('');setEmail('');window.location.reload();}).catch(error=>{console.error('Error adding user:',error);});};function handleDeleteUser(userId){fetch(\"https://task-app-server-07x5.onrender.com/users/\".concat(userId),{method:'DELETE'}).then(response=>{if(!response.ok){throw new Error('Failed to delete user');}setUsers(users.filter(user=>user.id!==userId));}).catch(error=>{console.error('Error deleting user:',error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"userlist-container\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"h2\",{children:\"User List\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"ul-list\",children:users.map(user=>/*#__PURE__*/_jsxs(\"li\",{className:\"row\",children:[user.name,\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",user.email,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{class:\"ui button\",onClick:()=>handleDeleteUser(user.id),children:\"Delete\"})]},user.id))}),/*#__PURE__*/_jsx(\"h3\",{children:\"Add New User\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"adduser-form\",onSubmit:handleAddUser,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",value:name,onChange:e=>setName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{class:\"ui button\",type:\"submit\",children:\"Add User\"})]})]});}export default UserList;","map":{"version":3,"names":["React","useState","useEffect","Navbar","jsx","_jsx","jsxs","_jsxs","UserList","users","setUsers","name","setName","email","setEmail","fetchUsers","fetch","then","response","ok","Error","json","data","catch","error","console","handleAddUser","event","preventDefault","newUser","method","headers","body","JSON","stringify","addedUser","window","location","reload","handleDeleteUser","userId","concat","filter","user","id","className","children","map","class","onClick","onSubmit","type","placeholder","value","onChange","e","target","required"],"sources":["/home/joe/Development/code/phase-4/Task-Manager/my-app/src/Components/Userlist.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Navbar from './Navbar';\n\nfunction UserList() {\n  const [users, setUsers] = useState([]);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n\n  useEffect(() => {\n    function fetchUsers() {\n      fetch('https://task-app-server-07x5.onrender.com/users')\n        .then(response => {\n          if (!response.ok) {\n            throw new Error('Failed to fetch users');\n          }\n          return response.json();\n        })\n        .then(data => {\n          setUsers(data);\n        })\n        .catch(error => {\n          console.error('Error fetching users:', error);\n        });\n    }\n\n    fetchUsers();\n  }, []);\n\n  function handleAddUser (event) {\n    event.preventDefault();\n    const newUser = { name, email };\n\n    fetch('https://task-app-server-07x5.onrender.com/users', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(newUser),\n    })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Failed to add user');\n        }\n        return response.json();\n      })\n      .then(addedUser => {\n        setUsers([...users, addedUser]);\n        setName('');\n        setEmail('');\n        window.location.reload();\n      })\n      .catch(error => {\n        console.error('Error adding user:', error);\n      });\n  };\n\nfunction handleDeleteUser (userId) {\n    fetch(`https://task-app-server-07x5.onrender.com/users/${userId}`, {\n      method: 'DELETE',\n    })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Failed to delete user');\n        }\n        setUsers(users.filter(user => user.id !== userId));\n      })\n      .catch(error => {\n        console.error('Error deleting user:', error);\n      });\n  };\n\n  return (\n    <div className='userlist-container' >\n      <Navbar/>\n      <h2>User List</h2>\n      <ul className=\"ul-list\">\n        {users.map(user => (\n          <li className='row' key={user.id}>\n          {user.name} <br></br> {user.email} \n          <br></br>\n          <button class=\"ui button\" onClick={() => handleDeleteUser(user.id)}>Delete</button>\n          </li>\n        ))}\n        \n      </ul>\n      <h3>Add New User</h3>\n      <form className='adduser-form' onSubmit={handleAddUser}>\n        <input type=\"text\" placeholder=\"Name\" value={name} onChange={(e) => setName(e.target.value)}required/>\n        <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} required/>\n        <br></br>\n        <button class=\"ui button\" type=\"submit\">Add User</button>\n        \n        \n      </form>\n     \n    </div>\n  );\n}\n\nexport default UserList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}